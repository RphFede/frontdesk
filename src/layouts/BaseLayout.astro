---
import '../styles/app.styl';
import '../styles/navigation.css';
import ClientRouter from 'astro:transitions';

import Index from '../pages/index.astro';
import Invoices from '../pages/invoices.astro';
import LoadBill from '../pages/loadbill.astro';
import Settings from '../pages/settings.astro';

import Navigation from '../components/Navigation.astro';
import { TransitionBeforeSwapEvent } from 'astro/virtual-modules/transitions-events.js';
---

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frontdesk</title>
  <meta name="theme-color" content="#2a2a2a">
  <meta name="view-transition" content="same-origin" />

  <ClientRouter />
</head>
<body>
    <div class="app-container">

    <div class="main-layout"> 

      <Navigation />
      
      <main class="content">
        <slot />
      </main>
      
    </div>
  </div>
</body>
<script>
</script>
</html>


<style lang="stylus">
  .app-container
    display flex
    flex-direction column
    height 100vh
    width 100%
    
  header
    padding 1rem 2rem
    background var(--bg-card)
    border-bottom 1px solid var(--border-color)
    display flex
    justify-content space-between
    align-items center
    flex-shrink 0
    z-index 10
    
  // Estilos para estados de facturas
  .status
    padding 0.25rem 0.75rem
    border-radius 12px
    font-size 0.875rem
    font-weight 500
    text-transform uppercase
    letter-spacing 0.5px
    
    &.pending
      background #fef3c7
      color #92400e
      
    &.paid
      background #d1fae5
      color #065f46
      
    &.overdue
      background #fee2e2
      color #991b1b
      
    &.cancelled
      background #f3f4f6
      color #6b7280
      
    &.processing
      background #dbeafe
      color #1e40af
      
  // Estilos para botones peque√±os
  .btn-sm
    padding 0.375rem 0.75rem
    font-size 0.875rem
    border-radius 4px
    border none
    background var(--primary-color)
    color white
    cursor pointer
    transition all 0.2s ease
    
    &:hover
      background var(--primary-hover)
      transform translateY(-1px)
      
  // Estilos para mensajes de "no data"
  .no-data
    text-align center
    color var(--text-secondary)
    font-style italic
    padding 2rem
    
  // Estilos para formularios ocultos
  #invoice-form, #supplier-form
    display none
    margin-top 1rem
    padding 1.5rem
    background var(--bg-card)
    border 1px solid var(--border-color)
    border-radius 8px
    
    .user-info
      color var(--text-secondary)
      font-size 0.9rem
  
  .main-layout
    display flex
    flex 1
    height calc(100vh - 140px) // Resta la altura del header y footer
    
  .content
    flex 1
    padding 2rem
    overflow-y auto
    background var(--bg-primary)

  .view
    display none
    
    &.active
      display block
      animation fadeIn 0.3s ease-in-out
  
  @keyframes fadeIn
    from
      opacity 0
      transform translateY(10px)
    to
      opacity 1
      transform translateY(0)
</style>